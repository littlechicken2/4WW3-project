<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GamerFriend</title>
  <link rel="stylesheet" href="project.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
</head>

<body>

  <img src="10.png" class="bg" alt="bg">
  <div id="page-wrap">
    <!-- Navbar -->
    <ul>
      <li><a href="index.html">Home</a></li>
      <li class="lii"><header class="neonText"> GamerFriend - The Ultimate Gameshop Finder</header></li>
      <li class="ri"><button class="button2" onclick="document.getElementById('id01').style.display='block'">Login</button></li>
      <li class="ri"><button class="button2" onclick="document.getElementById('id02').style.display='block'">Submit Location</button></li>
    </ul>

    <div id="id01" class="modal"> <!-- Login Popup -->
      <form class="modal-content animate" action="/action_page.php" method="post">
        <div class="container">
          <label id="uname"><b>Username</b></label>
          <input type="text" placeholder="Enter Username" name="uname" required>
          <label id="psw"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" name="psw" required>
          <button type="submit">Login</button>
          <label>
            <input type="checkbox" checked="checked" name="remember"> Remember me
          </label>
        </div>

        <div class="text" style="background-color:#f1f1f1">
          <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
          <span class="psw"> <a href="#">Forgot password?</a></span>
        </div>
      </form>
    </div>

    <div id="id02" class="modal"> <!-- Submit Location Popup -->
      <form class="modal-content animate" action="/action_page.php" method="post">
        <div class="container">
          <p style="font-size:30px">New Location</p>
          <label id="locationname"><b>Location Name</b></label>
          <input type="text" placeholder="Enter location Name" name="locationname" required>
          <label id="coordinate"><b>(Latitude,Longtitude)</b></label>
          <input type="text" placeholder="Enter coordinate eg.(108.232,90.367)" name="coordinate">
          <p>Description</p>
          <textarea name="description" style="width:1000px; height:160px"></textarea>
          <p></p>
          <button>Upload a picture or video</button>
          <p></p>
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>

    <script> // The script control login page
    // Get the login_tab
    var modal = document.getElementById('id01');
    var modal2 = document.getElementById('id02');
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
      else if (event.target == modal2) {
        modal2.style.display = "none";
      }
    }
    </script>




    <p></p> <!-- add this for add spacing -->

    <!-- NO CHANGE ABOVE -->

    <div class = "neonbox">
      <h1 class="neonText">
        GamerFriend
      </h1>
      <h2 class="neonText">The Ultimate Gameshop Finder</h2>
      <form role="search" id="form" class="form1">
        <input type="search" id="query" name="q" class="input1"
        placeholder="Gamgle"
        aria-label="Search through site content">
      </form>
      <button class="button1 btn start" type="submit" onclick="location.href='http://3.130.231.165/GAMER/results_sample.html';"><span>Search</span></button>
      <button class="button1 btn start" type="submit" onclick="getLocation()"><span>Search nearby</span></button>
    </div>
    <p id="demo"></p>
    <script>
      var x = document.getElementById("demo");
   
       function getLocation() {
         if (navigator.geolocation) {
          setTimeout(function(){
            window.location.href = 'results_sample.html'; // wait for user allow get location  
         }, 3000)
           navigator.geolocation.getCurrentPosition(showPosition);

         } else { 
           x.innerHTML = "Geolocation is not supported by this browser.";
         }
       }
       
       function showPosition(position) {
         x.innerHTML = "Latitude: " + position.coords.latitude + 
         "<br>Longitude: " + position.coords.longitude;
         localStorage.setItem("latitude",position.coords.latitude);
         localStorage.setItem("longtitude",position.coords.longitude);
         //window.onload = alert(localStorage.getItem("latitude"));
       }  //https://www.w3schools.com/html/html5_geolocation.asp</script>


    <!--<div> that our map will be loaded into -->
    <div id="map"></div>

    <script>
    // create the map and load it into the div with id="mymap"
    var map= L.map('map').setView([43.263,-79.919], 15);

    // use the OpenStreetMapstiles
    L.tileLayer(
    'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' + '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
    }
    ).addTo(map);

    </script>

    <p></p>
    <footer style="position:fixed;bottom:0;width:100%;">
      <p>
        &copy; 2021 Franky Jin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jint8@mcmaster.ca&nbsp;&nbsp;|&nbsp;&nbsp;Andy Ng&nbsp;&nbsp;&nbsp;&nbsp;nga15@mcmaster.ca
      </p>
    </footer>
  </div> <!-- background -->
</body>
</html>
